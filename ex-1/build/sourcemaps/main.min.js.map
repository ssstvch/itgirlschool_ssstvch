{"version":3,"sources":["scripts/01_main.js","scripts/_search-gif.js"],"names":["giphy_api","endpoint","key","search_button","document","querySelector","visible_response","style","display","unvisible_response","add_response_title","response_title","request_text","value","innerHTML","add_image_src","result","img","alt","split","src","data","id","add_error","text_error","createElement","className","after","delete_error","remove","send_request_giphy","get_answer_giphy","show_search_result","images","querySelectorAll","length","async","get_result","fetch","json","console","log","addEventListener"],"mappings":"AAAA;ACAA,MAAMA,UAAY,CACdC,SAAU,wCACVC,IAAK,oCAEHC,cAAgBC,SAASC,cAAc,cAEvCC,iBAAmB,KACrBF,SAASC,cAAc,aAAaE,MAAMC,QAAU,SAGlDC,mBAAqB,KACvBL,SAASC,cAAc,aAAaE,MAAMC,QAAU,QAGlDE,mBAAqB,KACvB,IAAIC,EAAiBP,SAASC,cAAc,oBAC5CO,EAAeR,SAASC,cAAc,gBAAgBQ,MAEtDF,EAAeG,UAAY,qBAAqBF,KAG9CG,cAAgB,CAACC,EAAQC,KACC,GAAzBA,EAAIC,IAAIC,MAAM,KAAK,GAClBF,EAAIG,IAAM,kCAAkCJ,EAAOK,KAAK,GAAGC,eAC3B,GAAzBL,EAAIC,IAAIC,MAAM,KAAK,GAC1BF,EAAIG,IAAM,kCAAkCJ,EAAOK,KAAK,GAAGC,eAC3B,GAAzBL,EAAIC,IAAIC,MAAM,KAAK,KAC1BF,EAAIG,IAAM,kCAAkCJ,EAAOK,KAAK,GAAGC,iBAI7DC,UAAY,KACd,IAAIC,EAAapB,SAASqB,cAAc,OACxCD,EAAWE,UAAY,cACuB,OAA3CtB,SAASC,cAAc,kBACtBD,SAASC,cAAc,gBAAgBsB,MAAMH,GAC7CpB,SAASC,cAAc,gBAAgBS,UAAY,iDAIrDc,aAAe,KAC4B,MAA1CxB,SAASC,cAAc,iBACtBD,SAASC,cAAc,gBAAgBwB,UAIzCC,mBAAqB,KACvBC,oBAGEC,mBAAsBhB,IAExBN,qBA7CAN,SAASC,cAAc,aAAaE,MAAMC,QAAU,QAgDpD,IAAIyB,EAAS7B,SAAS8B,iBAAiB,2BAEvC,IAAI,IAAIjB,KAAOgB,EAhB8B,MAA1C7B,SAASC,cAAc,iBACtBD,SAASC,cAAc,gBAAgBwB,SAmBd,GAAtBb,EAAOK,KAAKc,OACXpB,cAAcC,EAAQC,IAEtBM,YArDRnB,SAASC,cAAc,aAAaE,MAAMC,QAAU,SA4DxD4B,eAAeL,mBACX,IAAInB,EAAeR,SAASC,cAAc,gBAAgBQ,MAE1D,MAAMwB,QAAmBC,MACrB,GAAGtC,UAAUC,mBAAmBD,UAAUE,SAASU,8BAGjDI,QAAeqB,EAAWE,OAChCC,QAAQC,IAAIzB,GAEZgB,mBAAmBhB,GAIvBb,cAAcuC,iBAAiB,QAASZ","file":"../src/main.min.js","sourcesContent":["'use strict'","const giphy_api = {\n    endpoint: `https://api.giphy.com/v1/gifs/search?`,\n    key: `lQJ9BIU9QoeorJeS5Z9xEiyfLAmlGh5E`\n}\nconst search_button = document.querySelector(`.form__btn`);\n\nconst visible_response = () => {\n    document.querySelector(`.response`).style.display = `block`;\n}\n\nconst unvisible_response = () => {\n    document.querySelector(`.response`).style.display = `none`;\n}\n\nconst add_response_title = () => {\n    let response_title = document.querySelector(`.response__title`),\n    request_text = document.querySelector(`.form__input`).value;\n\n    response_title.innerHTML = `Ответ по запросу: ${request_text}`;\n}\n\nconst add_image_src = (result, img) => {\n    if(img.alt.split('№')[1] == 1) {\n        img.src = `https://media1.giphy.com/media/${result.data[0].id}/giphy.gif`\n    } else if (img.alt.split('№')[1] == 2) {\n        img.src = `https://media1.giphy.com/media/${result.data[1].id}/giphy.gif`\n    } else if (img.alt.split('№')[1] == 3) {\n        img.src = `https://media1.giphy.com/media/${result.data[2].id}/giphy.gif`\n    }\n}\n\nconst add_error = () => {\n    let text_error = document.createElement(`div`);\n    text_error.className = `form__error`;\n    if(document.querySelector(`.form__error`) === null) {\n        document.querySelector(`.form__input`).after(text_error);\n        document.querySelector(`.form__error`).innerHTML = `Ничего не найдено, введите корректный запрос`;\n    } \n}\n\nconst delete_error = () => {\n    if(document.querySelector(`.form__error`) != null) {\n        document.querySelector(`.form__error`).remove();\n    }\n}\n\nconst send_request_giphy = () => {\n    get_answer_giphy()\n}\n\nconst show_search_result = (result) => {\n\n    add_response_title();\n    visible_response();\n\n    let images = document.querySelectorAll(`.image-container__image`);\n    \n    for(let img of images) {\n\n        delete_error();\n\n        if(result.data.length != 0) {\n            add_image_src(result, img);\n        } else {\n            add_error();\n            unvisible_response();\n        }\n\n    }\n}\n\nasync function get_answer_giphy() {\n    let request_text = document.querySelector(`.form__input`).value;\n\n    const get_result = await fetch(\n        `${giphy_api.endpoint}api_key=${giphy_api.key}&q=${request_text}&limit=3&offset=0&lang=ru`\n    );\n\n    const result = await get_result.json();\n    console.log(result)\n\n    show_search_result(result);\n}\n\n\nsearch_button.addEventListener('click', send_request_giphy)"]}