"use strict";
const giphy_api={endpoint:"https://api.giphy.com/v1/gifs/search?",key:"lQJ9BIU9QoeorJeS5Z9xEiyfLAmlGh5E"},search_button=document.querySelector(".form__btn"),visible_response=()=>{document.querySelector(".response").style.display="block"},unvisible_response=()=>{document.querySelector(".response").style.display="none"},add_response_title=()=>{let e=document.querySelector(".response__title"),t=document.querySelector(".form__input").value;e.innerHTML=`Ответ по запросу: ${t}`},add_image_src=(e,t)=>{1==t.alt.split("№")[1]?t.src=`https://media1.giphy.com/media/${e.data[0].id}/giphy.gif`:2==t.alt.split("№")[1]?t.src=`https://media1.giphy.com/media/${e.data[1].id}/giphy.gif`:3==t.alt.split("№")[1]&&(t.src=`https://media1.giphy.com/media/${e.data[2].id}/giphy.gif`)},add_error=()=>{let e=document.createElement("div");e.className="form__error";try{""==request_text&&null==request_text&&null==request_text&&BAD_code()}catch{open_popup("Ничего не найдено","Введите запрос")}null===document.querySelector(".form__error")&&(document.querySelector(".form__input").after(e),document.querySelector(".form__error").innerHTML="Ничего не найдено, введите корректный запрос")},delete_error=()=>{null!=document.querySelector(".form__error")&&document.querySelector(".form__error").remove()},send_request_giphy=()=>{get_answer_giphy()},show_search_result=e=>{add_response_title(),document.querySelector(".response").style.display="block";let t=document.querySelectorAll(".image-container__image");for(let r of t)null!=document.querySelector(".form__error")&&document.querySelector(".form__error").remove(),0!=e.data.length?add_image_src(e,r):(add_error(),document.querySelector(".response").style.display="none")},open_popup=(e,t)=>{document.querySelector(".body__title").innerHTML=e,document.querySelector(".body__text").innerHTML=t,document.querySelector(".popup__body").classList.add("active"),document.querySelector(".popup").classList.add("active"),document.querySelector(".body__button").addEventListener("click",(e=>{e.preventDefault(),close_popup()}))},close_popup=()=>{document.querySelector(".popup__body").classList.remove("active"),document.querySelector(".popup").classList.remove("active")};async function get_answer_giphy(){let e=document.querySelector(".form__input").value;try{let t=await fetch(`${giphy_api.endpoint}api_key=${giphy_api.key}&q=${e}&limit=3&offset=0&lang=ru`),r=await t.json();show_search_result(r)}catch(e){open_popup("Нет доступа к серверу","Повторите попытку позже"),console.log(`Нет доступа к серверу. Повторите позже. Подробнее:${e}`)}}search_button.addEventListener("click",send_request_giphy);
//# sourceMappingURL=../sourcemaps/main.min.js.map
