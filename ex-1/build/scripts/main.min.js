"use strict";
const giphy_api={endpoint:"https://api.giphy.com/v1/gifs/search?",key:"lQJ9BIU9QoeorJeS5Z9xEiyfLAmlGh5E"},search_button=document.querySelector(".form__btn"),visible_response=()=>{document.querySelector(".response").style.display="block"},unvisible_response=()=>{document.querySelector(".response").style.display="none"},add_response_title=()=>{let e=document.querySelector(".response__title"),r=document.querySelector(".form__input").value;e.innerHTML=`Ответ по запросу: ${r}`},add_image_src=(e,r)=>{1==r.alt.split("№")[1]?r.src=`https://media1.giphy.com/media/${e.data[0].id}/giphy.gif`:2==r.alt.split("№")[1]?r.src=`https://media1.giphy.com/media/${e.data[1].id}/giphy.gif`:3==r.alt.split("№")[1]&&(r.src=`https://media1.giphy.com/media/${e.data[2].id}/giphy.gif`)},add_error=()=>{let e=document.createElement("div");e.className="form__error",null===document.querySelector(".form__error")&&(document.querySelector(".form__input").after(e),document.querySelector(".form__error").innerHTML="Ничего не найдено, введите корректный запрос")},delete_error=()=>{null!=document.querySelector(".form__error")&&document.querySelector(".form__error").remove()},send_request_giphy=()=>{get_answer_giphy()},show_search_result=e=>{add_response_title(),document.querySelector(".response").style.display="block";let r=document.querySelectorAll(".image-container__image");for(let t of r)null!=document.querySelector(".form__error")&&document.querySelector(".form__error").remove(),0!=e.data.length?add_image_src(e,t):(add_error(),document.querySelector(".response").style.display="none")};async function get_answer_giphy(){event.preventDefault();let e=document.querySelector(".form__input").value;const r=await fetch(`${giphy_api.endpoint}api_key=${giphy_api.key}&q=${e}&limit=3&offset=0&lang=ru`),t=await r.json();console.log(t),show_search_result(t)}search_button.addEventListener("click",send_request_giphy);
//# sourceMappingURL=../sourcemaps/main.min.js.map
