{"version":3,"sources":["scripts/01_main.js","scripts/_form-reg.js"],"names":["check_fields_full","document","querySelectorAll","form_input","label","i","length","error","createElement","classList","add","style","color","innerHTML","errors_count","appendChild","alert","remove_errors","msg_email","msg_pas","querySelector","errors","remove","clear_input","check_email","value","email","match","password","password_confirm","send_form_data","user","body","stringify","then","response","user_data","console","json","fetch","method","headers","parentElement","insertBefore","oninput","div","className","event","preventDefault","check_password","addEventListener"],"mappings":"AAAA;aCAA,IAAMA,kBAAoB,WAMtB,IANEA,IAAAA,EAAiBC,SAAGC,iBAAH,4BAEfC,EAAUF,SAAGA,iBAAH,uBACVG,EAAiBF,EAGZG,EAAI,EAAGA,EAAIF,EAAWG,OAAQD,IAAlC,IAAKF,EAAUA,GAAAA,MAAWG,CACtBH,QAAWE,IAAXF,qBAGGI,IAAKA,EAAGN,SAASO,cAATP,OACNQ,EAAAA,UAANC,IAAMD,SACAE,EAAMC,MAAZA,MAAMD,MACAE,EAAAA,UAAAA,iBAGNC,EAAYT,GAAAU,YAAAR,GACfO,IAII,IAALE,EADJA,MAIOF,mDAGLG,EAAgB,GAGdC,cAAYjB,WAEhB,IAAGkB,EAAWlB,SAAMkB,iBAAN,UACXD,EAASjB,SAAUiB,cAAV,YAHRA,EAAYjB,SAASmB,cAAT,cAQf,GAHuB,MAAAD,GAAoBE,EAAOf,SACrCgB,MAAVD,GAAAH,EAAAI,SAEH,GAAAD,EAAAf,OAAA,IAAA,IAAAD,EAAA,EAAAA,EAAAgB,EAAAf,OAAAD,IAXLgB,EAAAhB,GAAAiB,UAkBIC,YAAiB,WAAjB,IAEC,IAAApB,EAAAF,SAAAC,iBAAA,4BAFQG,EAAI,EAAGA,EAAIF,EAAWG,OAAQD,IAMrCmB,EAAcnB,GAAAoB,MAAdD,IAMEN,YAAUL,SAAAA,GAEVK,IAAAA,EAAgBN,SAAhBQ,cAAgBR,cAEnBc,EAAAD,MAAAE,MAAA,0BAVLT,EAAAP,MAAAC,MAAA,QAMQM,EAAUL,UAAV,uBAUAM,EAAUlB,MAAQW,MAAlBO,MAPAD,EAAUL,UAAV,4BAcAM,eAAA,SAAAS,EAAAC,GAEH,IAAAV,EAAAlB,SAAAmB,cAAA,YAICU,EAAAA,QAAiBD,EAAAJ,OAEfM,EAAOpB,MAAAC,MAAPmB,MACAZ,EAAQlB,UAAR,0BAEAkB,EAAYlB,MAAAA,MAAZ,QACAkB,EAAYlB,UAAZ,2BAMI6B,eAAgB,WAEpBE,IAAID,EAAOE,CAEVC,KAAKjC,SAAAkC,cAAA,SAAQV,MAAAC,MAAIS,SAAJf,cAAIe,UAAJV,MACbS,SAAKE,SAAShB,cAATgB,aAAaX,MACfY,SAAYD,SAAUE,cAAVF,aAAZX,OATRc,MAAA,2BAAA,CATJC,OAAA,OAWQC,QAAS,CAYRrB,eAAT,kCAGQnB,KAASmB,KAAAA,UAATW,KAVCG,MAAK,SAAAC,GAAQ,OAAIA,EAASG,UAaxBJ,MAAGjC,SAAAA,GACDoC,QAAGpC,IAASmB,EAAAA,SArBrB,OAwBUsB,SAAAA,GAAAA,OAAcA,QAAAA,IAAcC,OAV1C1C,SAASmB,cAAT,UAAiCwB,QAAU,WAiBE,MAAtC3C,SAASmB,cAATnB,eACCA,SAASmB,cAATnB,cAAAqB,SAIJ,IAAIuB,EAAM5C,SAASO,cAATP,OACN2B,EAAQ3B,SAAWmB,cAAX,UAGR0B,EAAAA,UAAAA,YACJlB,EAASc,cAAcA,cAAcC,aAArCE,EAAuDjB,EAASc,eAZpElB,YAAAE,IAoBIqB,SAAMC,cAAND,qBAAAH,QAAA,WAEiB,MAAjB5C,SAAAA,cAAAA,aACA8B,SAAcV,cAAdU,YAAcR,SAhBd,IAAIuB,EAAM5C,SAASO,cAAT,OACNoB,EAAW3B,SAASmB,cAAT,aACXS,EAAmB5B,SAASmB,cAAT,qBAEvByB,EAAIC,UAAJ,UACAlB,EAASc,cAAcA,cAAcC,aAAaE,EAAKjB,EAASc,eAEhEO,eAAerB,EAAUC,IAI7B5B,SAASmB,cAAT,iBAAwC8B,iBAAxC,SAAkE,SAACH,GAE/DA,EAAMC,iBACN/B,gBACAjB,oBACA8B,iBACAP","file":"../src/main.min.js","sourcesContent":["'use strict'","const check_fields_full = () => {\n\n    let form_input = document.querySelectorAll(`.field-entry__input-text`),\n        label = document.querySelectorAll(`.field-entry__label`),\n        errors_count = 0;\n\n    for (let i = 0; i < form_input.length; i++) {\n        if (!form_input[i].value) {\n            console.log(`Поле не заполнено`);\n\n            let error = document.createElement(`div`);\n            error.classList.add(`error`);\n            error.style.color = `red`;\n            error.innerHTML = `Заполните поле`;\n\n            label[i].appendChild(error);\n            errors_count++\n        }\n    }\n\n    if(errors_count === 0) {\n        alert(`\n            Succesful registration!\n        `);\n    } else errors_count = 0\n}\n\nconst remove_errors = () => {\n    let errors = document.querySelectorAll(`.error`),\n        msg_pas = document.querySelector(`.msg-pas`),\n        msg_email = document.querySelector(`.msg-email`);\n\n    if(msg_pas != null) msg_pas.remove();\n    if(msg_email != null) msg_email.remove();\n\n    if(errors.length != 0) {for (let i = 0; i < errors.length; i++) {\n        errors[i].remove();\n        }\n    }\n}\n\nconst clear_input = () => {\n\n    let form_input = document.querySelectorAll(`.field-entry__input-text`);\n\n    for (let i = 0; i < form_input.length; i++) {\n        form_input[i].value = ``;\n    }\n\n}\n\nconst check_email = (email) => {\n\n    let msg_email = document.querySelector(`.msg-email`);\n\n    if (email.value.match(/^[^@]+@[^@.]+\\.[^@]+$/)) {\n        msg_email.style.color = `green`;\n        msg_email.innerHTML = `✅ Корректный email`;\n    } else {\n        msg_email.style.color = `red`;\n        msg_email.innerHTML = `❌ Неверный формат email`;\n    }\n\n}\n\nconst check_password = (password, password_confirm) => {\n\n    let msg_pas = document.querySelector(`.msg-pas`);\n\n\n    if (password.value !== password_confirm.value) {\n        msg_pas.style.color = `red`;\n        msg_pas.innerHTML = `❌ Пароли не совпадают`;\n    } else {\n        msg_pas.style.color = `green`;\n        msg_pas.innerHTML = `✅ Пароли введены верно`;\n    }\n\n}\n\nconst send_form_data = () => {\n\n    let user = {\n        \"name\": document.querySelector(`.name`).value,\n        \"email\": document.querySelector(`.email`).value,\n        \"username\": document.querySelector(`.username`).value,\n        \"password\": document.querySelector(`.password`).value,\n    }\n\n    fetch(\"https://httpbin.org/post\", {\n        method: `POST`,\n        headers: {\n            \"Content-Type\": \"application/json;charset=utf-8\"\n        },\n        body: JSON.stringify(user)\n    })\n        .then(response => response.json())\n        .then(user_data => {\n            console.log(user_data.json);\n        })\n        .catch(error => console.log(error));\n}\n\ndocument.querySelector(`.email`).oninput = () => {\n\n    if(document.querySelector(`.msg-email`) != null) {\n        document.querySelector(`.msg-email`).remove();\n    }\n\n    let div = document.createElement(`div`),\n        email = document.querySelector(`.email`);\n\n        div.className = `msg-email`;\n        email.parentElement.parentElement.insertBefore(div, email.parentElement);\n\n        check_email(email)\n}\n\ndocument.querySelector(`.password-confirm`).oninput = () => {\n\n    if(document.querySelector(`.msg-pas`) != null) {\n        document.querySelector(`.msg-pas`).remove();\n    }\n\n\n    let div = document.createElement(`div`),\n        password = document.querySelector(`.password`),\n        password_confirm = document.querySelector(`.password-confirm`);\n\n    div.className = `msg-pas`;\n    password.parentElement.parentElement.insertBefore(div, password.parentElement);\n\n    check_password(password, password_confirm);\n    \n}\n\ndocument.querySelector(`.form__button`).addEventListener(`click`, (event) => {\n\n    event.preventDefault();\n    remove_errors(); \n    check_fields_full();\n    send_form_data();\n    clear_input();\n\n})\n\n"]}